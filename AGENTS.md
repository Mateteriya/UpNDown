# Правила проекта Up&Down (для AI и разработчиков)

Краткий ориентир по концепту и ограничениям. Подробнее — TZ.md, docs/.

## Концепт

- **Up&Down** — карточная игра на взятки (36 карт, 3–4 игрока). Режимы: классический и расширенный (вверх/вниз, бескозырка, тёмная).
- Платформы: Web (PWA), Android (Capacitor), позже ПК/iOS. Roadmap: MVP ✅ → Альфа (онлайн, уровни ИИ) → Бета → Релиз.

## Один источник правды: профиль игрока

- **Профиль** задаётся в одном месте: `getPlayerProfile()` / `savePlayerProfile()` (persistence). Поля: `displayName`, `avatarDataUrl`, `profileId` (uuid).
- Имя в игре, рейтинг, «Победитель: …» всегда опираются на этот профиль. При восстановлении сохранённой партии имя игрока подставляется из текущего профиля (GameTable).
- Рейтинг привязан к **profileId**, не к displayName. При логине профиль синхронизируется с Supabase (таблица `profiles`).

## Мобильная версия: не ломать при правках ПК

- **Breakpoint:** до 1024px — мобильная версия (`viewport-mobile`), 1025px и выше — ПК.
- Стили карт и стола для **ПК** — только внутри `@media (min-width: 1025px)` и/или селектора `.game-table-root:not(.viewport-mobile)`. Не менять мобильные стили при доработке ПК.
- В коде: правки только для ПК — в ветках `if (!isMobileOrTablet)` или отдельные пропы, не затрагивающие мобильную вёрстку.
- Подробно: docs/PC-CARDS-PROTECT-MOBILE.md.

## План дальше

Шаги 1–6 описаны в **docs/PLAN-DALEE.md**. Текущий приоритет после фундамента: мобильная проверка/полировка → онлайн (лобби, столы) → уровни ИИ → архив результатов → турниры/обучение.

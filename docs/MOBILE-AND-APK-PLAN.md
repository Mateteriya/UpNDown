# План: мобильный браузер + подсказка + APK

## 1. Подсказка при обнаружении тесноты (п.4)

**Цель:** когда на мобильном в браузере панель Юга перекрывает панель с картами (мало высоты из‑за шапки браузера), один раз показать подсказку: «Потяните вниз, чтобы увидеть все элементы».

**Что делаем:**
- В корне (или в `GameTable`) считаем высоту видимой области (`window.visualViewport.height` или `window.innerHeight`).
- Оцениваем, перекрываются ли блок «карты Юга» и «панель Юга» (например, по позициям/размерам или по порогу: если `visualViewport.height` меньше X — считаем тесно).
- Если тесно и подсказку ещё не показывали в этой сессии — показываем полоску/блок с текстом и, при желании, стрелкой вниз. По тапу или через 3–5 сек скрываем и запоминаем в `sessionStorage`, чтобы не показывать снова.
- Подсказка только для мобильного viewport (например, при `viewport-mobile` / ширине &lt; 600px).

**От тебя:** ничего не требуется, всё в коде.

---

## 2. Мета-теги и «добавить на главный экран» (п.5)

**Цель:** при открытии с главного экрана (PWA / «добавить на главный экран») приложение открывалось без адресной строки браузера, на весь экран.

**Что делаем:**
- В `index.html` в `<head>` добавляем:
  - `theme-color` — цвет полосы статуса/шапки.
  - `apple-mobile-web-app-capable` и `apple-mobile-web-app-status-bar-style` — для iOS/Safari.
  - При желании: `mobile-web-app-capable` для части Android-браузеров.
- Опционально: файл `manifest.json` (название приложения, иконки, `display: standalone`) и ссылка на него в `index.html` — тогда «добавить на главный экран» даст иконку и полноэкранный режим.

**От тебя:** если есть готовые иконки (например, 192×192, 512×512) — можно положить в `public/` и указать в манифесте; если нет — делаем манифест с заглушками или без иконок.

---

## 3. Сборка APK через Capacitor

**Идея:** тот же проект (Vite + React). Добавляем Capacitor: он кладёт собранный веб-приложение в нативное Android-приложение (WebView). Получаем один APK — то же самое приложение, без браузера.

**Шаги (уже сделано в проекте):**

1. ✅ Capacitor установлен, `capacitor.config.ts` создан (`appId: com.example.updown`, `webDir: dist`).
2. ✅ Платформа Android добавлена — папка `android/` в корне проекта.
3. **Сборка и запуск (каждый раз при изменениях веб-кода):**
   - `npm run cap:sync` — соберёт веб (`npm run build`) и скопирует в `android/` (`npx cap sync android`).
   - `npm run cap:open` — откроет проект в Android Studio. Из Android Studio запускаешь на устройстве/эмуляторе или собираешь APK (Build → Build Bundle(s) / APK(s)).
4. **Что нужно от тебя для APK:**  
   - На машине: **Android Studio** (или Android SDK + build-tools).  
   - Для релизного APK в магазин: позже настроить подпись (keystore) в `android/`.

**От тебя:** подтвердить, что готова ставить Android Studio / SDK (или что уже стоят), и как называть приложение и пакет (например `com.example.updown` или свой домен). Иконку и сплеш для приложения можно добавить позже.

---

## Итог

| Что | От тебя | Когда делаем |
|-----|--------|----------------|
| Подсказка при тесноте | Ничего | Реализуем в коде сейчас |
| Мета-теги + манифест | Иконки по желанию | Реализуем сейчас |
| Capacitor + APK | Node, Android Studio/SDK; имя и пакет приложения | Можем начать сразу: добавляем Capacitor в проект и создаём `android/` |

После этого у тебя будет: один и тот же проект, браузерная версия (с подсказкой и мета-тегами) + возможность собрать тот же код в APK.

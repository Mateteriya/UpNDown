# Как перенести Cursor на другой диск (освободить место на C:)

Cursor хранит **~20 ГБ** в папке пользователя на диске C. Всё можно перенести на другой диск (например, D:) так, чтобы **сохранилось всё**: чаты, проекты, настройки, расширения, история.

---

## Где лежат данные Cursor в Windows

| Что | Путь (подставь свой логин вместо `ИмяПользователя`) |
|-----|-----------------------------------------------------|
| **Настройки, чаты, воркспейсы, расширения** | `C:\Users\ИмяПользователя\AppData\Roaming\Cursor` |
| **Кэш, логи, временные файлы** | `C:\Users\ИмяПользователя\AppData\Local\Cursor` |
| **CLI (если пользуешься)** | `C:\Users\ИмяПользователя\.cursor` |

Чаты по проектам лежат в:  
`%APPDATA%\Cursor\User\workspaceStorage\<хэш>\state.vscdb`

После переноса через junction эти пути для системы останутся те же, но физически данные будут на D:.

---

## Пошаговый перенос (сохраняем всё)

### Шаг 0: Папка для данных

Используем: **`D:\Cursor\Dat`**.  
Внутри будут папки `Cursor` (из Roaming), `Cursor-Local` (из Local) и при желании `DotCursor` для CLI.

### Шаг 1: Полностью закрой Cursor

- Закрой все окна Cursor.
- Открой **Диспетчер задач** (Ctrl+Shift+Esc) и заверши все процессы **Cursor** и **cursor.exe**, если они есть.
- Иначе файлы будут заняты и копирование/удаление не сработает.

### Шаг 2: Скопируй папки на диск D (не перемещай пока)

Создай папку **`D:\Cursor\Dat`** (если ещё нет).

1. **Roaming (настройки, чаты, расширения):**  
   - **Win+R** → `%APPDATA%` → Enter.  
   - Найди папку **Cursor**, скопируй её **целиком** в `D:\Cursor\Dat\`.  
   - Итог: `D:\Cursor\Dat\Cursor` с папками User, workspaceStorage и т.д.

2. **Local (кэш, логи):**  
   - **Win+R** → `%LOCALAPPDATA%` → Enter.  
   - Папку **Cursor** скопируй в `D:\Cursor\Dat\` и назови копию **Cursor-Local**.  
   - Итог: `D:\Cursor\Dat\Cursor-Local` со всем содержимым.

3. **(По желанию)** Если пользуешься Cursor CLI и есть папка **`.cursor`** в `C:\Users\ИмяПользователя\`, скопируй её в `D:\Cursor\Dat\DotCursor`.

### Шаг 3: Удали оригинальные папки (только после успешного копирования)

- Удали `%APPDATA%\Cursor` (папку Cursor в Roaming).
- Удали `%LOCALAPPDATA%\Cursor` (папку Cursor в Local).
- Если переносила `.cursor` — удали `C:\Users\ИмяПользователя\.cursor`.

Проверь, что на D: всё на месте и размер папок совпадает с тем, что был на C.

### Шаг 4: Создай junction-ссылки (от имени администратора)

Открой **Командную строку** или **PowerShell от имени администратора** (правый клик по меню Пуск → «Терминал (администратор)» или «Командная строка (администратор)»).

Выполни по очереди:

```cmd
mklink /J "%APPDATA%\Cursor" "D:\Cursor\Dat\Cursor"
```

```cmd
mklink /J "%LOCALAPPDATA%\Cursor" "D:\Cursor\Dat\Cursor-Local"
```

Если переносила `.cursor`:

```cmd
mklink /J "%USERPROFILE%\.cursor" "D:\Cursor\Dat\DotCursor"
```

Должно появиться сообщение вроде: `Создано соединение для ...`.

### Шаг 5: Проверка

1. Открой в проводнике `%APPDATA%` — должна быть папка **Cursor** с иконкой ярлыка (значит junction).
2. Зайди внутрь — должны быть те же папки (User, workspaceStorage и т.д.), что и на D:.
3. Запусти **Cursor**. Проверь:
   - открываются ли проекты;
   - есть ли история чатов;
   - настройки и расширения на месте.

Если всё ок — на диске C в «Пользователи» освободится ~20 ГБ; физически данные теперь на D.

---

## Если что-то пошло не так

- **Cursor не видит настройки/чаты:**  
  Закрой Cursor, удали junction-ссылки (удаляешь папку «Cursor» в AppData — удаляется только ссылка, не данные в `D:\Cursor\Dat`). Скопируй обратно из `D:\Cursor\Dat\Cursor` в `%APPDATA%\Cursor` и из `D:\Cursor\Dat\Cursor-Local` в `%LOCALAPPDATA%\Cursor`. После этого Cursor снова будет использовать данные с C.

- **Ошибка «Невозможно создать связь»:**  
  Запускай CMD/PowerShell **от имени администратора**. Проверь, что папки `%APPDATA%\Cursor` и `%LOCALAPPDATA%\Cursor` именно удалены (не осталось пустых папок с таким именем).

- **Хочешь вернуть всё на C:**  
  Удали junction-ссылки и скопируй `D:\Cursor\Dat\Cursor` → `%APPDATA%\Cursor`, `D:\Cursor\Dat\Cursor-Local` → `%LOCALAPPDATA%\Cursor`.

---

## Кратко

1. Закрыть Cursor полностью.  
2. Скопировать `%APPDATA%\Cursor` → `D:\Cursor\Dat\Cursor`.  
3. Скопировать `%LOCALAPPDATA%\Cursor` → `D:\Cursor\Dat\Cursor-Local`.  
4. Удалить оригиналы в AppData.  
5. От админа: `mklink /J "%APPDATA%\Cursor" "D:\Cursor\Dat\Cursor"` и `mklink /J "%LOCALAPPDATA%\Cursor" "D:\Cursor\Dat\Cursor-Local"`.  
6. Запустить Cursor и проверить чаты и проекты.

Так ты перенесёшь Cursor на другой диск и сохранишь всё: истории чатов, проекты, настройки и расширения.

# Техническое задание: Мультиплатформенное приложение «Up&Down»

**Версия:** 1.0  
**Дата:** 04.02.2025

---

## 1. Концепция проекта

### 1.1. Общие сведения

| Параметр | Значение |
|----------|----------|
| **Название** | Up&Down (рабочее; варианты: «Ап'н'Даун», «Река») |
| **Жанр** | Карточная игра на взятки |
| **Платформы** | ПК (Windows, macOS, Linux), Android, iOS, Web |

### 1.2. Цель

Создание эталонного мультиплатформенного приложения для интеллектуальной карточной игры на взятки «Up&Down», направленное на популяризацию игры, проведение онлайн- и офлайн-турниров и построение игрового сообщества.

### 1.3. Целевая аудитория

- Любители карточных игр на взятки (преферанс, бридж)
- Ценители тактических и математических игр
- Пользователи, ищущие социальные игровые форматы

### 1.4. Ключевая ценность

- Уникальный игровой опыт на основе детализированных авторских правил
- Бонусные раздачи («бескозырка», «тёмная»), отсутствующие в других источниках
- Чистый, минималистичный интерфейс с фокусом на геймплее

---

## 2. Игровой процесс и режимы

### 2.1. Ядро правил (общее для всех режимов)

#### 2.1.1. Базовая механика

- Игра на взятки: игроки заказывают количество взяток, которые планируют взять
- Обязательный выход в масть; при отсутствии масти — обязательный ход козырем
- Круговой порядок сдачи

#### 2.1.2. Подсчёт очков за раздачу

| Ситуация | Формула | Пример |
|----------|---------|--------|
| Точное попадание | +10 × заказ | Заказ 5, взято 5 → +50 |
| Заказ 0, взято 0 | +5 | — |
| Заказ 0, перебор | +1 × взято | Заказ 0, взято 2 → +2 |
| Недобор | −10 × (заказ − взято) | Заказ 5, взято 3 → −20 |
| Перебор (при заказе > 0) | +1 × взято | Заказ 3, взято 5 → +5 |

#### 2.1.3. Ответственность сдающего

Правило применяется к сдающему (последнему заказывающему игроку в раздаче):

- Сумма заказов всех игроков **не должна** равняться количеству взяток в раздаче (числу карт, разданных каждому игроку)
- Цель: в каждой раздаче кто-то должен недобрать или перебрать
- При нарушении — пересдача (порядок действий при «крюке» уточняется в игровой документации)

### 2.2. Режимы игры

#### A. Классический (Быстрая игра)

| Параметр | Значение |
|----------|----------|
| **Цель** | Знакомство, быстрые партии |
| **Колода** | 36 карт |
| **Игроки** | 3 или 4 |
| **Последовательность** | Вверх-вниз (1→9 или 1→12) |
| **Бонусные раздачи** | Нет |

#### B. Расширенный (Турнирный) — основной режим

| Параметр | Значение |
|----------|----------|
| **Цель** | Полноценная игра по авторским правилам |
| **Колода** | 36 карт (фиксированная) |
| **Игроки** | 4 или 3 |

**Цикл для 4 игроков:**

1. «Вверх»: раздачи с 1 по 9 карт на игрока (козырь у сдающего)
2. 4 специальные раздачи по 9 карт (козырь у сдающего)
3. «Вниз»: раздачи с 9 по 1 карту на игрока
4. 4 раздачи «бескозырка» (игра без козыря)
5. 4 раздачи «тёмная» (заказ до раздачи и просмотра карт)

**Цикл для 3 игроков:** аналогично, с циклом 1→12 карт на игрока.

#### Специальная раздача «Тёмная»

- Игроки заказывают количество взяток **до** раздачи и **до** просмотра своих карт
- Порядок: заказ → раздача → игра
- Количество «тёмных» раздач в цикле = количеству игроков за столом

#### Специальная раздача «Бескозырка»

- Игра без козыря
- Остальные правила как в базовой механике

---

## 3. Технические требования и архитектура

### 3.1. Платформы

| Платформа | Технологии | Особенности |
|-----------|------------|-------------|
| **Десктоп** | Tauri или Electron | Управление с клавиатуры, полноэкранный режим |
| **Web** | PWA / SPA | Без установки, быстрый доступ |
| **Android** | Kotlin / Jetpack Compose | Сенсорный ввод, портретная ориентация |
| **iOS** | Swift / SwiftUI | Сенсорный ввод, портретная ориентация |

*Для ускорения разработки целесообразно рассмотреть кросс-платформенные решения (Flutter, React Native) для мобильных приложений.*

### 3.2. Архитектура

- **Модель:** клиент-серверная
- **Сервер:** матчмейкинг, аккаунты, рейтинги, турниры, чат
- **Офлайн-режим:** полная функциональность без сети; сохранение партий, статистики и настроек локально
- **Локальная сеть:** Wi‑Fi / Bluetooth для игры в одной сети

### 3.3. Искусственный интеллект

- Уровни сложности: Новичок, Любитель, Эксперт
- Использование: офлайн-игра, заполнение свободных слотов в онлайн-сессии

---

## 4. Функциональные требования

### 4.1. Онлайн-игра

- Система аккаунтов (email, OAuth — социальные сети)
- Друзья, приглашения
- Чат в лобби и за столом (пресеты сообщений)
- Матчмейкинг: поиск стола на 3–4 игроков

### 4.2. Офлайн-игра

- Полноценная игра против ИИ
- **Pass-and-play** (игра по очереди на одном устройстве): игроки передают устройство друг другу; ход делает владелец карт внизу экрана
- Игра по локальной сети (Wi‑Fi / Bluetooth)

### 4.3. Турнирная система

- Создание турниров по расписанию
- Автоматический подсчёт результатов
- Призовой фонд (виртуальный / реальный)

### 4.4. Обучение

- Интерактивное обучение с пошаговым разбором правил
- Видеотуториалы

### 4.5. Офлайн-режим и сохранение данных

- Полная работа приложения без интернета
- Сохранение партий, статистики и настроек локально
- Синхронизация данных при появлении сети (по возможности)

---

## 5. Локализация

- Поддержка нескольких языков обязательна
- Платформа ориентирована на международную аудиторию
- Минимум для релиза: русский, английский

---

## 6. Монетизация

- Монетизация обязательна
- Бесплатные режимы: офлайн-игра, классический режим онлайн, обучение
- Платные элементы: турниры с призовым фондом, премиум-подписка, косметика (рубашки карт, темы) — детализация на этапе дизайна продукта

---

## 7. Пользовательский интерфейс (UI/UX)

### 7.1. Общий стиль

- Чистый, современный, минималистичный
- Фокус на картах и игровом столе
- Плавные, ненавязчивые анимации (раздача карт, взятие взятки)

### 7.2. Главный экран

- Крупные кнопки: Онлайн, Офлайн, Турниры, Обучение

### 7.3. Игровой стол — десктоп

- **Центр:** стопка взяток, карта козыря
- **Противники:** скрытые карты (силуэты по краям)
- **Карты игрока:** внизу экрана; управление: drag & drop или клик
- **Панель:** заказы, очки, таймер (для турниров)

### 7.4. Игровой стол — мобильный

- Адаптивная ориентация: портрет / ландшафт
- Карты игрока компактно внизу
- Возможность «поднять» карту для детального просмотра
- Свёрнутые панели для заказов и очков

### 7.5. Карты

- Уникальные, элитарные рубашки карт
- Стиль: прогрессивный, без вульгарности

### 7.6. Темы

- Обязательна поддержка светлой и тёмной темы

---

## 8. Нефункциональные требования

### 8.1. Производительность

- 60 FPS на средних смартфонах и ПК

### 8.2. Безопасность

- Защита от читов в онлайн-режиме
- Шифрование критичных данных

### 8.3. Сеть

- Экономный расход трафика
- Возможность игры на 3G

### 8.4. Минимальные версии ОС

- Уточнить на этапе выбора стека (рекомендуется: Android 8+, iOS 14+)

### 8.5. Доступность

- Учёт потребностей пользователей с ограниченными возможностями (цветовой контраст, масштабирование) — по возможности

---

## 9. Roadmap

| Этап | Описание | Результат |
|------|----------|-----------|
| **1. MVP (Прототип)** | Ядро логики, офлайн против ИИ, базовый UI. Платформа: Web или ПК | Играбельный прототип на одной платформе |
| **2. Альфа** | Онлайн: матчмейкинг на 3–4 игроков. Главное меню. 2–3 уровня сложности ИИ | Онлайн-игра, базовое меню |
| **3. Бета** | Полный Расширенный (Турнирный) режим. Аккаунты, чат. Мобильные приложения | Мультиплатформенность, полные правила |
| **4. Релиз 1.0** | Турнирная система. Доработка UI/UX. Маркетинг | Готовый продукт |
| **5. Пострелиз** | Клубы, статистика. Пользовательские моды правил. Стриминг | Расширение сообщества |

---

## 10. Глоссарий

| Термин | Определение |
|--------|-------------|
| **Раздача** | Один кон игры: заказ, игра, подсчёт очков |
| **Взятка** | Набор карт, выигранный одним игроком за ход |
| **Pass-and-play** | Игра на одном устройстве по очереди; устройство передаётся между игроками |
| **Бескозырка** | Раздача без козыря |
| **Тёмная** | Раздача, в которой заказ делается до раздачи и просмотра карт |
| **Ответственность сдающего** | Правило: сумма заказов ≠ количеству взяток в раздаче |

---

*Документ утверждён для начала разработки.*

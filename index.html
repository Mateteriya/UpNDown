<!DOCTYPE html>
<html lang="ru">
  <head>
    <script>
      (function(){var d=document,v=localStorage.getItem('updown-theme'),t=(v==='light'||v==='dark')?v:(window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light');var sysDark=window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches;d.documentElement.classList.add('theme-'+t);d.documentElement.classList.add(sysDark?'system-dark':'system-light');d.documentElement.setAttribute('data-theme',t);var m=d.querySelector('meta[name="color-scheme"]');if(m)m.setAttribute('content',t==='light'?'only light':'dark');})();
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="color-scheme" content="light dark" />
    <meta name="theme-color" content="#0f172a" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="mobile-web-app-capable" content="yes" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="512x512" href="/icon-512.png" />
    <link rel="apple-touch-icon" href="/icon-512.png" />
    <title>Up&Down — Карточная игра на взятки</title>
  </head>
  <body>
    <div id="root">
      <div id="loading-fallback" style="display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;background:#0f172a;color:#94a3b8;font-size:16px;gap:12px">
        <span>Загрузка…</span>
      </div>
    </div>
    <script type="module" src="/src/main.tsx"></script>
    <!-- Если после возврата с OAuth страница не загрузилась за 8 сек — показать подсказку -->
    <script>
      (function(){
        var h=window.location.hash;
        if(!h||!h.includes('access_token'))return;
        setTimeout(function(){
          var r=document.getElementById('root');
          var lb=document.getElementById('loading-fallback');
          if(r&&r.children.length===1&&lb&&lb.offsetParent!==null){
            lb.innerHTML='<p style="margin:0 0 12px;color:#e2e8f0">Страница не загрузилась</p><p style="margin:0 0 16px;font-size:14px">Нажмите кнопку ниже</p><button onclick="location.reload()" style="padding:12px 24px;font-size:16px;border-radius:8px;border:1px solid #334155;background:#1e293b;color:#22d3ee;cursor:pointer">Обновить</button>';
          }
        },8000);
      })();
    </script>
  </body>
</html>
